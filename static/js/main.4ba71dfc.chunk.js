(this.webpackJsonpswgame=this.webpackJsonpswgame||[]).push([[0],{20:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var r=c(1),a=c.n(r),n=c(6),s=c.n(n),i=(c(19),c(20),c(4)),l=c(3),o=c(2),d=c(10),u=c.n(d),j=c(13),O="SET_DICE_OUTCOME",b="SET_CARD_DECKS",f="SET_SELECTED_CARD_SET",h="SET_GAME_SCORES",p="RESET_GAME_PHASE",m="SET_STAGEG_GAME_RESULT",x="SET_GAME_STARTED",v="SET_GAME_ENDED",y="RESTART_GAME",C=function(e){return Math.floor(Math.random()*e)},S=function(e,t){for(var c=[];e>0;){var r=C(t.length);c.push(t.splice(r,1)[0]),e-=1}return c},g=[{label:"people",value:"starships"},{label:"starships",value:"cargo_capacity"},{label:"vehicles",value:"max_atmosphering_speed"}],E=function(e){return{type:O,diceOutcome:e}},w=function(e,t,c){return function(r){var a,n=t.cardsOfPlayer[e],s=(a=t.cardsOfComputer)[C(a.length)];r({type:f,cardSet:{selectedCardOfPlayer:n,selectedCardOfComputer:s}});var l,d=function(e,t,c){var r=function(e){return Array.isArray(e)?e.length:isNaN(e)?0:0===e?e:Math.floor(Math.log2(parseInt(e)))},a=r(e[c]),n=r(t[c]),s=0,i=0;return a>n?i=3*-n:a<n&&(s=3*-a),[s,i]}(n,s,c),u=Object(i.a)(d,2),j=u[0],O=u[1];r((l={lostScoreOfPlayer:j,lostScoreOfComputer:O},Object(o.a)({type:h},l))),r({type:m})}},P=function(){return{type:p}},k=c(0),T=function(e){var t=e.selectCard,c=e.children,r=e.className;return Object(k.jsx)("button",{onClick:t,style:{height:"240px",opacity:"1"},className:"card shadow rounded-lg border-secondary ".concat(r," p-2"),children:c})},N=c.p+"static/media/vader_death.eec41162.png",_=function(){return Object(k.jsx)(T,{className:"d-flex flex-column justify-content-center",children:Object(k.jsx)("img",{src:N,alt:"card back",style:{width:"100%"}})})},A=function(e){var t=e.label,c=e.value,r=e.modifier,a=void 0===r?"dark":r;return Object(k.jsx)("div",{className:"align-self-center",children:"n/a"===c?"data lost in galaxy":Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h6",{className:"mb-0",children:t}),Object(k.jsx)("span",{className:"badge badge-".concat(a," "),children:c})]})})},D=function(e){var t=e.cardType,c=e.card,r=e.selectCard;return Object(k.jsxs)(T,{selectCard:r,className:"d-flex flex-column justify-content-between",children:[function(e){switch(t){case"people":var c;return Object(k.jsx)(A,{label:"piloted starships ",value:null===(c=e.starships)||void 0===c?void 0:c.length});case"starships":return Object(k.jsx)(A,{label:"max speed ",value:e.cargo_capacity});case"vehicles":return Object(k.jsx)(A,{label:"capacity ",value:e.max_atmosphering_speed})}}(c),Object(k.jsx)("h5",{className:"align-self-center",children:c.name}),Object(k.jsx)("img",{src:N,alt:c.name,style:{width:"20%"}})]})},R=function(e){var t=e.cards,c=e.selectCard,r=e.label,a=e.score,n=e.selectedCard,s=Object(l.c)((function(e){return e.diceOutcome.label})),i=Object(l.c)((function(e){return e.isPhaseStarted})),o=Object(l.c)((function(e){return e.isStagedResultSaved}));return Object(k.jsx)("div",{className:"d-flex flex-row-reverse justify-content-center",children:Object(k.jsxs)("div",{style:{maxWidth:"600px"},children:[Object(k.jsx)("span",{className:"m-2",children:r}),Object(k.jsx)("span",{style:{fontSize:"40px"},children:a}),Object(k.jsx)("div",{className:"card-deck",children:t.map((function(e,t){return function(){var t;return i?(t="COMPUTER"===r,o&&(t=e.name!==n.name)):t=!0,t}()?Object(k.jsx)(_,{},t):Object(k.jsx)(D,{selectCard:function(){return c(t)},cardType:s,card:e},t)}))})]})})},G=(c(31),function(e){var t=e.diceLabel,c=e.handleClickDice,a=e.isPhaseStarted,n=function(){c(),d(!1)},s=Object(r.useState)(!1),l=Object(i.a)(s,2),o=l[0],d=l[1];return Object(k.jsx)("button",{type:"button",onClick:function(){d(!0),setTimeout(n,1e3)},disabled:a,style:{width:"100px",height:"100px"},className:"rounded-lg dice ".concat(o&&"spin"),children:a?"".concat(t):"Toss Dice"})}),M=function(e){var t=e.onClick,c=e.label;return Object(k.jsx)("button",{className:"btn btn-dark btn-large",type:"button",onClick:t,children:c})},L=(c(32),function(e){var t=e.isOpen,c=e.children;return Object(k.jsx)("div",{className:"Modal ".concat(t?"Modal--open":""),children:c})}),F=function(e){var t=e.onClick,c=e.isOpen;return Object(k.jsx)(L,{isOpen:c,children:Object(k.jsxs)("div",{style:{width:"50%"},className:"mx-auto",children:[Object(k.jsxs)("p",{children:["the war between bright and dark is about to begin.",Object(k.jsx)("br",{})," the start of the is determined by a dice. ",Object(k.jsx)("br",{}),"the end is determined by the card you play. ",Object(k.jsx)("br",{}),"more powerful your card is, ",Object(k.jsx)("br",{}),"more power you will lose."]}),Object(k.jsx)(M,{label:"START WAR",onClick:t})]})})},I=function(e){var t=e.onClick,c=e.winner,r=e.isOpen;return Object(k.jsx)(L,{isOpen:r,children:Object(k.jsxs)("div",{style:{width:"50%"},className:"mx-auto",children:[Object(k.jsxs)("h4",{children:[c," is the winner"]}),Object(k.jsx)("p",{children:"the peace in galaxy will continue for 1000yrs, unless you..."}),Object(k.jsx)(M,{label:"END PEACE",onClick:t})]})})},U=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.isGameStarted})),c=Object(l.c)((function(e){return e.isGameOver})),a=Object(l.c)((function(e){return e.isPhaseStarted})),n=Object(l.c)((function(e){return e.isStagedResultSaved})),s=Object(l.c)((function(e){return e.diceOutcome})),o=Object(l.c)((function(e){return e.cardDecks})),d=Object(l.c)((function(e){return e.selectedCardSet})),O=Object(l.c)((function(e){return e.scoreOfPlayer})),f=Object(l.c)((function(e){return e.scoreOfComputer})),h=function(t,c){return function(r){return e(w(r,t,c))}},p=Object(r.useState)(""),m=Object(i.a)(p,2),T=m[0],N=m[1];return Object(r.useEffect)((function(){var t=function(e,t){var c="";return e<=0||t<=0?c=e>t?"Player":"Computer":c}(O,f);""!==t&&(e({type:v}),N(t))})),Object(k.jsxs)("div",{children:[Object(k.jsx)(F,{isOpen:!t,onClick:function(){e({type:x})}}),Object(k.jsx)(I,{isOpen:c,onClick:function(){return e({type:y})},winner:T}),Object(k.jsxs)("div",{className:"d-flex flex-column text-center m-4",style:{height:"90vh"},children:[Object(k.jsx)("div",{className:"flex-grow-1",children:Object(k.jsx)(R,{label:"COMPUTER",score:f,cards:o.cardsOfComputer,selectCard:h(o,s.value),selectedCard:d.selectedCardOfComputer})}),Object(k.jsx)("div",{className:"flex-grow-1",children:n?Object(k.jsx)(M,{label:"KEEP FIGHTING",onClick:function(){return e(P())}}):Object(k.jsx)(G,{diceLabel:s.label,isPhaseStarted:a,handleClickDice:function(){return e(function(){var e=Object(j.a)(u.a.mark((function e(t){var c,r,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(i=g)[C(i.length)],e.next=3,s=c.label,fetch("".concat("https://swapi.dev/api/").concat(s,"/")).then((function(e){if(!e.ok)throw"something wrong";return e.json()})).then((function(e){return e.results}));case 3:r=e.sent,a=S(3,r),n=S(3,r),t(E(c)),t({type:b,cardDecks:{cardsOfPlayer:a,cardsOfComputer:n}});case 8:case"end":return e.stop()}var s,i}),e)})));return function(t){return e.apply(this,arguments)}}())}})}),Object(k.jsx)("div",{className:"flex-grow-1",children:Object(k.jsx)(R,{label:"PLAYER",score:O,cards:o.cardsOfPlayer,selectCard:h(o,s.value),selectedCard:d.selectedCardOfPlayer})})]})]})};c(33);var B=function(){return Object(k.jsx)("div",{className:"App",children:Object(k.jsx)(U,{})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),r(e),a(e),n(e),s(e)}))},J=c(5),K=c(14),W=[0,0,0].fill({}),z={isGameStarted:!1,isPhaseStarted:!1,diceOutcome:{label:"",value:""},cardDecks:{cardsOfPlayer:W,cardsOfComputer:W},selectedCardSet:{selectedCardOfPlayer:{},selectedCardOfComputer:{}},scoreOfPlayer:100,scoreOfComputer:100,isStagedResultSaved:!1,isGameOver:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(o.a)(Object(o.a)({},e),{},{isGameStarted:!0});case v:return Object(o.a)(Object(o.a)({},e),{},{isGameOver:!0});case O:return Object(o.a)(Object(o.a)({},e),{},{diceOutcome:t.diceOutcome,isPhaseStarted:!0});case y:return Object(o.a)(Object(o.a)({},e),z);case b:return Object(o.a)(Object(o.a)({},e),{},{cardDecks:t.cardDecks});case f:return Object(o.a)(Object(o.a)({},e),{},{selectedCardSet:t.cardSet});case h:var c=Object(o.a)({},e),r=c.scoreOfPlayer,a=c.scoreOfComputer,n=r+t.lostScoreOfPlayer,s=a+t.lostScoreOfComputer;return Object(o.a)(Object(o.a)({},e),{},{scoreOfPlayer:n,scoreOfComputer:s});case m:return Object(o.a)(Object(o.a)({},e),{},{isStagedResultSaved:!0});case p:var i={isPhaseStarted:!1,diceOutcome:"",cardDecks:{cardsOfPlayer:W,cardsOfComputer:W},isStagedResultSaved:!1};return Object(o.a)(Object(o.a)({},e),i);default:return e}},q=Object(J.c)(Y,Object(J.a)(K.a));s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(l.a,{store:q,children:Object(k.jsx)(B,{})})}),document.getElementById("root")),H()}},[[34,1,2]]]);
//# sourceMappingURL=main.4ba71dfc.chunk.js.map